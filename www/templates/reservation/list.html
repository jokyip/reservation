<ion-view>
	<ion-header-bar class="item-input-inset" align-title="left">
	    <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
        <h1 class='title'>Reservation</h1>
	</ion-header-bar>
	
	<ion-content>
		<label class="item item-input">
	  		<span class="input-label">Date</span>
			<ionic-datepicker idate="currentDate" disablepreviousdates="false"  callback="datePickerCallback">
			    <button class="button button-block button-positive"> {{ currentDate | date:'dd - MMMM - yyyy' }} </button>
			</ionic-datepicker>
		</label>	
	
		<ion-list>
		    <div ng-repeat="group in controller.collection.models">
		      <ion-item class="item-stable"
		                ng-click="toggleGroup(group)"
		                ng-class="{active: isGroupShown(group)}">
		          <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
		        &nbsp;
		        {{group.name}}  [<b>{{group.available}}</b> available slot(s)]
		      </ion-item>
		      <ion-item class="item-accordion"
		                ng-repeat="item in group.timeslot"
		                ng-show="isGroupShown(group)"
		                ng-disabled="item.disabled"
		                ng-controller="ReservationCtrl">
		        {{item.value}} <b>{{ item.reservedBy }}</b> <button class="button button-clear button-positive" ng-controller="ReservationCtrl" ng-click="controller.edit(group._id, currentDate, item.value)" ng-if="!item.reservedBy">Reserve</button>
		      </ion-item>
		    </div>
		</ion-list>
	
	</ion-content>
</ion-view>